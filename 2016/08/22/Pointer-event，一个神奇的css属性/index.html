<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	

	<title>Pointer-event，一个神奇的css属性 | 黑皮书</title>
	<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
	
	
	<link rel="stylesheet" href="/css/normalize.css" type="text/css">
	<link rel="stylesheet" href="/css/basscss.css" type="text/css">
	<link rel="stylesheet" href="/css/basscss-ui-groups.css" type="text/css">
	<link rel="stylesheet" href="/css/tomorrow.css" type="text/css">
	<link rel="stylesheet" href="/css/style.css" type="text/css">
	<!-- ****** faviconit.com favicons ****** -->
	<link rel="shortcut icon" href="/favicons/favicon.ico">
	<link rel="icon" sizes="16x16 32x32 64x64" href="/images/favicon.ico">
	<link rel="icon" type="image/png" sizes="196x196" href="/favicons/favicon-192.png">
	<link rel="icon" type="image/png" sizes="160x160" href="/favicons/favicon-160.png">
	<link rel="icon" type="image/png" sizes="96x96" href="/favicons/favicon-96.png">
	<link rel="icon" type="image/png" sizes="64x64" href="/favicons/favicon-64.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16.png">
	<link rel="apple-touch-icon" href="/favicons/favicon-57.png">
	<link rel="apple-touch-icon" sizes="114x114" href="/favicons/favicon-114.png">
	<link rel="apple-touch-icon" sizes="72x72" href="/favicons/favicon-72.png">
	<link rel="apple-touch-icon" sizes="144x144" href="/favicons/favicon-144.png">
	<link rel="apple-touch-icon" sizes="60x60" href="/favicons/favicon-60.png">
	<link rel="apple-touch-icon" sizes="120x120" href="/favicons/favicon-120.png">
	<link rel="apple-touch-icon" sizes="76x76" href="/favicons/favicon-76.png">
	<link rel="apple-touch-icon" sizes="152x152" href="/favicons/favicon-152.png">
	<link rel="apple-touch-icon" sizes="180x180" href="/favicons/favicon-180.png">
	<meta name="msapplication-TileColor" content="#FFFFFF">
	<meta name="msapplication-TileImage" content="/favicons/favicon-144.png">
	<meta name="msapplication-config" content="/browserconfig.xml">
	<!-- ****** faviconit.com favicons ****** -->
	
		<link href="http://fonts.googleapis.com/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
	
	

	<!--[if lt IE 9]><script src="/js/html5.js" type="text/javascript"></script><![endif]-->
	<script src="/js/main.js" type="text/javascript"></script>
</head>

<body>
	<section class="container m4 clearfix">
		<div class="clearfix">
			<div class="mb4 sm-flex center nowrap">
	<div class="flex-auto block">
		<p class="inline h2">黑皮书</p> | <small class="muted">一颗不肯媚俗的心</small>
	</div>
</div>

			<div class="mn1 center">
	
		<a href="/./" class="btn button-narrow">首页</a>
	
		<a href="/archives/" class="btn button-narrow">归档</a>
	
		<a href="/tags/" class="btn button-narrow">关于</a>
	
	<a href="/search.html" class="btn button-narrow" onclick="loadJQuery(this, event);" data-modal>
		<svg class="icon" data-icon="search"></svg>
	</a>
</div>

			<div class="p0 col col-12">
				<div class="m0 py2">
	<div class="md-col-12">
		<div class="overflow-hidden bg-white rounded">
			<div class="m1 p2 white">
				<div class="clearfix">
					<div class="left">
						<h1 class="h2 m0"><a href="/2016/08/22/Pointer-event，一个神奇的css属性/" class="black">
						Pointer-event，一个神奇的css属性
						</a></h1>
					</div>
					<div class="right"><span class="h6 muted black">
						Aug 22 2016
					</span></div>
				</div>
			</div>
			<div class="p2 border-top">
				<p>　　搞前端的朋友们应该听说过这个属性吧。每年圣诞节的时候，许多网页上都会挂出一个雪花飘落的特效增加一些节日气氛。有一些是用flash实现的，也有用HTML+js实现的。当时就很好奇为何在页面z轴最上层增加了一个层却完全不会影响下面元素的任何事件响应。简直是前端黑科技。后来看了大神的解释，原来只用了一个的css属性pointer-event就可以搞定一切了。</p>
<p>　　看上去确实很神奇，以为会是事件冒泡代理转发之类的很难懂的概念。实际上超级简单，对某一个元素比如div采用div{pointer-event:none}即可让这个HTML元素（包括它的所有子孙元素）失去所有的事件响应。鼠标焦点会直接无视它，click、mouseover等所有事件会穿透它到达它的下一级元素。这个属性看起来似乎很有用，让我一直都想怎样在项目中能有点实际的意义。直到这两天做一个数据可视化的项目，终于找到了一个用武之地。</p>
<p>   <img src="http://wx1.sinaimg.cn/large/71144b5cly1fisvzccva8j21hc0u0x6p.jpg" width="100%"></p>
<p>　　如图，页面z轴上分两层，底层是基于百度地图和Echarts做的全屏大地图，上层container容器也是全屏的，是用Vue+webSocket做的实时图表table和信息展示文字及header部分，看着简直完美。跑起来测试，妈蛋，地图无法用滚轮缩放移动了，Echart的组件也无法点击交互了。原因也很简单，上层的container层把地图‘挡住了’，这种时候用pointer-event就很有用了，直接pointer-event:none搞定。但是这样一来table因为继承的关系，里面的交互事件也用不了了（本来每行点击可以弹一个dialog展示详情的），这时候可以针对table单独用一个pointer-event:auto事件就又回来了。<br>　　<br>　　这就是我目前遇到了使用这个属性最好的使用场景，那就是用来做一些特效类的交互层级比较多的页面，当然如果你脑洞开得够大，用它动态绑定一些元素，感觉可以玩出一些黑魔法。如果不知道这个属性的话，暂时我还真没想到其它的方案解决这个难题，欢迎谈谈你的想法啊。<br>　　<br>　　另外，因为是css3属性，不支持IE直到9！</p>

			</div>
			<div class="p2 border-top">
				<div class="clearfix">
					<div class="left">
						
							<script type="text/javascript">
								document.write('<a href="/tags/博客/" class="muted h6 mb1 bold btn btn-outline '+chooseOne(colors)+'">博客</a>');
								//document.write('<span onclick="window.location=\'' + ' /tags/博客/ ' + '\'" class="clickable h6 bold inline-block px1 '+chooseOne(colors)+' rounded">博客</span>');
							</script>
						
							<script type="text/javascript">
								document.write('<a href="/tags/文章/" class="muted h6 mb1 bold btn btn-outline '+chooseOne(colors)+'">文章</a>');
								//document.write('<span onclick="window.location=\'' + ' /tags/文章/ ' + '\'" class="clickable h6 bold inline-block px1 '+chooseOne(colors)+' rounded">文章</span>');
							</script>
						
							<script type="text/javascript">
								document.write('<a href="/tags/前端/" class="muted h6 mb1 bold btn btn-outline '+chooseOne(colors)+'">前端</a>');
								//document.write('<span onclick="window.location=\'' + ' /tags/前端/ ' + '\'" class="clickable h6 bold inline-block px1 '+chooseOne(colors)+' rounded">前端</span>');
							</script>
						
					</div>
					<div class="ml2 right"><span class="h6 muted black"> </span></div>
				</div>
			</div>
		</div>
	</div>
	
	<div class="clearfix mt2">
		
			<a href="/2017/05/10/前端面试二三则/" class="left btn">
			<svg class="icon" data-icon="chevron-left"></svg>
			prev: 前端面试“二三事”
		</a>
		
		
	</div>
	
	
</div>


			</div>
		</div>
	</section>
	<div class="container mb2 clearfix">
	<div class="sm-flex center nowrap mb2 h5">
		<div class="flex-auto border-bottom">
			<a href="https://hexo.io/" class="btn block muted">Hexo</a>
		</div>
		<div class="flex-auto border-bottom">
			<a href="https://zllovesuki.git.sx/essays/2016/02/hexo-theme-weightless/" class="btn block">Weightless</a> Theme
		</div>
		<div class="flex-auto border-bottom">
			Rocking <a href="http://www.basscss.com/" class="btn block">Basscss</a>
		</div>
		<div class="flex-auto border-bottom">
			
		</div>
	</div>
</div>
<script src="/js/geomicons.js"></script>
<script type="text/javascript">
	var icons = document.querySelectorAll('[data-icon]');
	geomicons.inject(icons);
</script>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-91171801-1', 'auto');
  ga('send', 'pageview');

</script>



</body>
</html>
